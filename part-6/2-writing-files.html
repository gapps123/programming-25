<text-box variant="learningObjectives" name="Learning objectives">

After this section

- You will know how to create files with Python code
- You will be able to write text based data to a file
- You will know how to create a CSV file

</text-box>

<p>So far we have read data from files, but it is naturally also possible to write data to files. Typically a program processes data and stores the results in a file, so they can be used later or processed further by some other program.</p>

<p>We can create a new file every time we want to write data to a file, but we can also append new data to the end of an existing file. In both cases we use the <code class="language-plaintext highlighter-rouge">open</code> function from the previous section. For writing files the function requires a second argument.</p>

<h2 id="creating-a-new-file">Creating a new file</h2>

<p>If you want to create a new file, you would call the <code class="language-plaintext highlighter-rouge">open</code> function with the additional argument <code class="language-plaintext highlighter-rouge">w</code>, to signify that the file should be opened in write mode. So, the function call could look like this:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">"new_file.txt"</span><span class="p">,</span> <span class="s">"w"</span><span class="p">)</span> <span class="k">as</span> <span class="n">my_file</span><span class="p">:</span>
    <span class="c1"># code to write something to the file
</span></code></pre></div></div>

<p><strong>NB: if the file already exists, all the contents will be overwritten</strong>. It pays to be very careful when creating new files.</p>

<p>With the file open you can write data to it. You can use the method <code class="language-plaintext highlighter-rouge">write</code>, which takes the string that is to be written as its argument.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">"new_file.txt"</span><span class="p">,</span> <span class="s">"w"</span><span class="p">)</span> <span class="k">as</span> <span class="n">my_file</span><span class="p">:</span>
    <span class="n">my_file</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="s">"Hello there!"</span><span class="p">)</span>
</code></pre></div></div>

<p>When you execute the program, a new file named <code class="language-plaintext highlighter-rouge">new_file.txt</code> appears in the directory. The contents would look like this:</p>

<sample-data>

Hello there!

</sample-data>

<p>If you want line breaks in the file, you will have to add them by hand - the <code class="language-plaintext highlighter-rouge">write</code> function doesn’t work exactly like the more familiar <code class="language-plaintext highlighter-rouge">print</code> function, though they are similar. So, the following program</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">"new_file.txt"</span><span class="p">,</span> <span class="s">"w"</span><span class="p">)</span> <span class="k">as</span> <span class="n">my_file</span><span class="p">:</span>
    <span class="n">my_file</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="s">"Hello there!"</span><span class="p">)</span>
    <span class="n">my_file</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="s">"This is the second line"</span><span class="p">)</span>
    <span class="n">my_file</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="s">"This is the last line"</span><span class="p">)</span>
</code></pre></div></div>

<p>would result in a file with these contents:</p>

<sample-data>

Hello there!This is the second lineThis is the last line

</sample-data>

<p>Line breaks are achieved by adding new line characters <code class="language-plaintext highlighter-rouge">\n</code> to the argument strings:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">"new_file.txt"</span><span class="p">,</span> <span class="s">"w"</span><span class="p">)</span> <span class="k">as</span> <span class="n">my_file</span><span class="p">:</span>
    <span class="n">my_file</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="s">"Hello there!</span><span class="se">\n</span><span class="s">"</span><span class="p">)</span>
    <span class="n">my_file</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="s">"This is the second line</span><span class="se">\n</span><span class="s">"</span><span class="p">)</span>
    <span class="n">my_file</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="s">"This is the last line</span><span class="se">\n</span><span class="s">"</span><span class="p">)</span>
</code></pre></div></div>

<p>Now the contents of <code class="language-plaintext highlighter-rouge">new_file.txt</code> would look like this:</p>

<sample-data>

Hello there!
This is the second line
This is the last line

</sample-data>

<programming-exercise name="Inscription" tmcname="part06-10_inscription">

Please write a program which asks for the name of the user and then creates an "inscription" in a file specified by the user. Please see the example below.

<sample-output>

Whom should I sign this to: **Ada**
Where shall I save it: **inscribed.txt**

</sample-output>

The contents of the file `inscribed.txt` would be

<sample-data>

Hi Ada, we hope you enjoy learning Python with us! Best, Mooc.fi Team

</sample-data>

**NB:** this exercise doesn't ask you to write any functions, so you should __not__ place any code within an `if __name__ == "__main__"` block.

</programming-exercise>

<h2 id="appending-data-to-an-existing-file">Appending data to an existing file</h2>

<p>If you want to append data to the end of a file, instead of overwriting the entire file, you should open the file in append mode with the argument <code class="language-plaintext highlighter-rouge">a</code>.</p>

<p>If the file doesn’t yet exist, append mode works exatly like write mode.</p>

<p>The following program opens the file <code class="language-plaintext highlighter-rouge">new_file.txt</code> and appends a couple of lines of text to the end:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">"new_file.txt"</span><span class="p">,</span> <span class="s">"a"</span><span class="p">)</span> <span class="k">as</span> <span class="n">my_file</span><span class="p">:</span>
    <span class="n">my_file</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="s">"This is the 4th line</span><span class="se">\n</span><span class="s">"</span><span class="p">)</span>
    <span class="n">my_file</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="s">"And yet another line.</span><span class="se">\n</span><span class="s">"</span><span class="p">)</span>
</code></pre></div></div>

<p>After this program is executed the contents of the file would look like this:</p>

<sample-output>

Hello there!
This is the second line
This is the last line
This is the 4th line
And yet another line.

</sample-output>

<p>In programming practice, appending data to files is not a very common task.</p>

<p>More often a file is read, processed and overwritten in its entirety. For example, when the contents should change in the <em>middle</em> of the file, it is usually easiest to overwrite the entire file.</p>

<programming-exercise name="Diary" tmcname="part06-11_diary">

Please write a program which works as a simply diary. The diary entries should be saved in the file `diary.txt`. When the program is executed, it should first read any entries already in the file.

NB: the automatic tests for this exercise will change the contents of the file. If you want to keep its contents, first make a copy of the file under a different name.

The program should work as follows:

<sample-output>

1 - add an entry, 2 - read entries, 0 - quit
Function: **1**
Diary entry: **Today I ate porridge**
Diary saved

1 - add an entry, 2 - read entries, 0 - quit
Function: **2**
Entries:
Today I ate porridge
1 - add an entry, 2 - read entries, 0 - quit
Function: **1**
Diary entry: **I went to the sauna in the evening**
Diary saved

1 - add an entry, 2 - read entries, 0 - quit
Function: **2**
Entries:
Today I ate porridge
I went to the sauna in the evening
1 - add an entry, 2 - read entries, 0 - quit
Function: **0**
Bye now!

</sample-output>

When the program is executed for the second time, this should happen:

<sample-output>

1 - add an entry, 2 - read entries, 0 - quit
Function: **2**
Entries:
Today I ate porridge
I went to the sauna in the evening
1 - add an entry, 2 - read entries, 0 - quit
Function: **0**
Bye now!

</sample-output>

**NB:** this exercise doesn't ask you to write any functions, so you should __not__ place any code within an `if __name__ == "__main__"` block.

</programming-exercise>

<h2 id="writing-csv-files">Writing CSV files</h2>

<p>CSV files can be written line by line with the <code class="language-plaintext highlighter-rouge">write</code> method just like any other file. The following example creates the file <code class="language-plaintext highlighter-rouge">coders.csv</code>, with each line containing the name, working environment, favourite language and years of experience of a single programmer. The fields are separated by a semicolon.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">"coders.csv"</span><span class="p">,</span> <span class="s">"w"</span><span class="p">)</span> <span class="k">as</span> <span class="n">my_file</span><span class="p">:</span>
    <span class="n">my_file</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="s">"Eric;Windows;Pascal;10</span><span class="se">\n</span><span class="s">"</span><span class="p">)</span>
    <span class="n">my_file</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="s">"Matt;Linux;PHP;2</span><span class="se">\n</span><span class="s">"</span><span class="p">)</span>
    <span class="n">my_file</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="s">"Alan;Linux;Java;17</span><span class="se">\n</span><span class="s">"</span><span class="p">)</span>
    <span class="n">my_file</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="s">"Emily;Mac;Cobol;9</span><span class="se">\n</span><span class="s">"</span><span class="p">)</span>
</code></pre></div></div>

<p>Executing this program would result in the following file:</p>

<sample-output>

Eric;Windows;Pascal;10
Matt;Linux;PHP;2
Alan;Linux;Java;17
Emily;Mac;Cobol;9

</sample-output>

<p>What if the data to be written is stored in computer memory in a list?</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">coders</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">coders</span><span class="p">.</span><span class="n">append</span><span class="p">([</span><span class="s">"Eric"</span><span class="p">,</span> <span class="s">"Windows"</span><span class="p">,</span> <span class="s">"Pascal"</span><span class="p">,</span> <span class="mi">10</span><span class="p">])</span>
<span class="n">coders</span><span class="p">.</span><span class="n">append</span><span class="p">([</span><span class="s">"Matt"</span><span class="p">,</span> <span class="s">"Linux"</span><span class="p">,</span> <span class="s">"PHP"</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="n">coders</span><span class="p">.</span><span class="n">append</span><span class="p">([</span><span class="s">"Alan"</span><span class="p">,</span> <span class="s">"Linux"</span><span class="p">,</span> <span class="s">"Java"</span><span class="p">,</span> <span class="mi">17</span><span class="p">])</span>
<span class="n">coders</span><span class="p">.</span><span class="n">append</span><span class="p">([</span><span class="s">"Emily"</span><span class="p">,</span> <span class="s">"Mac"</span><span class="p">,</span> <span class="s">"Cobol"</span><span class="p">,</span> <span class="mi">9</span><span class="p">])</span>
</code></pre></div></div>

<p>We can build the string we want to write as an f-string, and write the ready line to the file like so:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">"coders.csv"</span><span class="p">,</span> <span class="s">"w"</span><span class="p">)</span> <span class="k">as</span> <span class="n">my_file</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">coder</span> <span class="ow">in</span> <span class="n">coders</span><span class="p">:</span>
        <span class="n">line</span> <span class="o">=</span> <span class="sa">f</span><span class="s">"</span><span class="si">{</span><span class="n">coder</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s">;</span><span class="si">{</span><span class="n">coder</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s">;</span><span class="si">{</span><span class="n">coder</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="si">}</span><span class="s">;</span><span class="si">{</span><span class="n">coder</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="si">}</span><span class="s">"</span>
        <span class="n">my_file</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="n">line</span><span class="o">+</span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">)</span>
</code></pre></div></div>

<p>If each list of coder data was very long, with many more items, building the string by hand would be quite cumbersome. We can use a <code class="language-plaintext highlighter-rouge">for</code> loop to build the string instead:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">"coders.csv"</span><span class="p">,</span> <span class="s">"w"</span><span class="p">)</span> <span class="k">as</span> <span class="n">my_file</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">coder</span> <span class="ow">in</span> <span class="n">coders</span><span class="p">:</span>
        <span class="n">line</span> <span class="o">=</span> <span class="s">""</span>
        <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">coder</span><span class="p">:</span>
            <span class="n">line</span> <span class="o">+=</span> <span class="sa">f</span><span class="s">"</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s">;"</span>
        <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">my_file</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="n">line</span><span class="o">+</span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">)</span>
</code></pre></div></div>

<h2 id="clearing-file-contents-and-deleting-files">Clearing file contents and deleting files</h2>

<p>Sometimes it is necessary to clear the contents of an existing file. Opening the file in write mode and closing the file immediately will achieve just this:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">"file_to_be_cleared.txt"</span><span class="p">,</span> <span class="s">"w"</span><span class="p">)</span> <span class="k">as</span> <span class="n">my_file</span><span class="p">:</span>
    <span class="k">pass</span>
</code></pre></div></div>

<p>Now the <code class="language-plaintext highlighter-rouge">with</code> block only contains the command <code class="language-plaintext highlighter-rouge">pass</code>, which doesn’t actually do anything. Python does not allow empty blocks, so the command is necessary here.</p>

<p>It is possible to also bypass the <code class="language-plaintext highlighter-rouge">with</code> block by using the following oneliner:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">open</span><span class="p">(</span><span class="s">'file_to_be_cleared.txt'</span><span class="p">,</span> <span class="s">'w'</span><span class="p">).</span><span class="n">close</span><span class="p">()</span>
</code></pre></div></div>

<text-box variant="hint" name="Deleting files">

You can also delete a file entirely. We will have to ask for help from the operating system to achieve this:

```python
# the command to delete files is in the os module
import os

os.remove("unnecessary_file.csv")
```

NB: this will not work when running the automatic tests on the course servers due to technical limitations in the testing environment. If you are asked to clear the contents of a file, use the methods described above.

</text-box>

<programming-exercise name="Filtering the contents of a file" tmcname="part06-12_filtering_file_contents">

The file `solutions.csv` contains some solutions to mathematics problems:

```csv
Arto;2+5;7
Pekka;3-2;1
Erkki;9+3;11
Arto;8-3;4
Pekka;5+5;10
...jne...
```

As you can see above, on each line the format is `name_of_student;problem;result`. All the operations are either addition or subtraction, and each has exactly two operands.

Please write a function named `filter_solutions()` which

* Reads the contents of the file `solutions.csv`
* writes those lines which have a _correct_ result into the file `correct.csv`
* writes those lines which have an _incorrect_ result into the file `incorrect.csv`

Using the example above, the file `correct.csv` would contain the lines 

```sh
Arto;2+5;7
Pekka;3-2;1
Pekka;5+5;10
```

The other two would be in the file `incorrect.csv`.

Please write the lines in the same order as they appear in the original file. Do not change the original file.

NB: the function should have the exact same result, no matter how many times it is called. That is, it shouldn't matter if the function is called once

```python
filter_solutions()
```

or multiple times in a row

```python
filter_solutions()
filter_solutions()
filter_solutions()
filter_solutions()
```

After the execution, the contents of the files `correct.csv` and `incorrect.csv` should be exactly the same in either case.

</programming-exercise>

<programming-exercise name="Store personal data" tmcname="part06-13_store_personal_data">

Please write a function named `store_personal_data(person: tuple)`, which takes a tuple containing some identifying information as its argument.

The tuple contains the following elements:

* Name (string)
* Age (integer)
* Height (float)

This should be processed and written into the file `people.csv`. The file may already contain some data; the new entry goes to the end of the file. The data should be written in the format

name;age;height

Each entry should be on a separate line. If we call the function with the argument `("Paul Paulson", 37, 175.5)`, the function should write this line to the end of the file:

`Paul Paulson;37;175.5`

</programming-exercise>

<h2 id="handling-data-in-a-csv-format">Handling data in a CSV format</h2>

<p>Let’s write a program which assesses students’ performance on a course. The program reads a CSV file, which contains weekly exercise points received by the students. The program then calculates the points total and determines the grade attained by each student. Finally, the program creates a CSV file containing the points total and grade for each student.</p>

<p>The CSV file given as input to the program looks like this:</p>

<sample-data>

Peter;4;2;3;5;4;0;0
Paula;7;2;8;3;5;4;5
Susan;3;4;3;5;3;4;4
Emily;6;6;5;5;0;4;8

</sample-data>

<p>The program logic is divided into three functions: reading the file and processing the contents into an accessible format, determining the grade, and writing the file.</p>

<p>The file is read following the principles covered in the previous section. The data is stored in a dictionary, where the key is the student’s name, and the value is a list of the points received by the student, in integer format:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">read_weekly_points</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
    <span class="n">weekly_points</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span> <span class="k">as</span> <span class="n">my_file</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">my_file</span><span class="p">:</span>
            <span class="n">parts</span> <span class="o">=</span> <span class="n">line</span><span class="p">.</span><span class="n">split</span><span class="p">(</span><span class="s">";"</span><span class="p">)</span>
            <span class="n">point_list</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">points</span> <span class="ow">in</span> <span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
                <span class="n">point_list</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">points</span><span class="p">))</span>
            <span class="n">weekly_points</span><span class="p">[</span><span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">=</span> <span class="n">point_list</span>

    <span class="k">return</span> <span class="n">weekly_points</span>
</code></pre></div></div>

<p>The second function is for determining the grade based on the points received. This function is in turn used by the third function, which writes the results to the file.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">grade</span><span class="p">(</span><span class="n">points</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">points</span> <span class="o">&lt;</span> <span class="mi">20</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">0</span>
    <span class="k">elif</span> <span class="n">points</span> <span class="o">&lt;</span> <span class="mi">25</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">1</span>
    <span class="k">elif</span> <span class="n">points</span> <span class="o">&lt;</span> <span class="mi">30</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">2</span>
    <span class="k">elif</span> <span class="n">points</span> <span class="o">&lt;</span> <span class="mi">35</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">3</span>
    <span class="k">elif</span> <span class="n">points</span> <span class="o">&lt;</span> <span class="mi">40</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">4</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">5</span>

<span class="k">def</span> <span class="nf">save_results</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">weekly_points</span><span class="p">):</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s">"w"</span><span class="p">)</span> <span class="k">as</span> <span class="n">my_file</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">point_list</span> <span class="ow">in</span> <span class="n">weekly_points</span><span class="p">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">point_sum</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">point_list</span><span class="p">)</span>
            <span class="n">my_file</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s">"</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s">;</span><span class="si">{</span><span class="n">point_sum</span><span class="si">}</span><span class="s">;</span><span class="si">{</span><span class="n">grade</span><span class="p">(</span><span class="n">point_sum</span><span class="p">)</span><span class="si">}</span><span class="se">\n</span><span class="s">"</span><span class="p">)</span>
</code></pre></div></div>

<p>This structure lets us write a very simple main function. Notice how the filenames for the files whch are read and written are given as arguments in the main function:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">weekly_points</span> <span class="o">=</span> <span class="n">read_weekly_points</span><span class="p">(</span><span class="s">"weekly_points.csv"</span><span class="p">)</span>
<span class="n">save_results</span><span class="p">(</span><span class="s">"results.csv"</span><span class="p">,</span> <span class="n">weekly_points</span><span class="p">)</span>
</code></pre></div></div>

<p>When the main function is executed, the contents of the file <code class="language-plaintext highlighter-rouge">results.csv</code> created as a result looks like this:</p>

<sample-data>

Peter;18;0
Paula;34;3
Susan;26;2
Emily;41;5

</sample-data>

<p>Notice how each function defined above is relatively simple, and they all have a single responsibility. This is a common and advisable approach when programming larger wholes. The single reponsibility principle makes verifying functionality easier. It also makes it easier to make changes to the program later, and to add new features.</p>

<p>Say we wanted to add a function for printing out the grade for a single student. We already have a function which determines the student’s grade, so we can use this in our new function:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">get_grade</span><span class="p">(</span><span class="n">student_name</span><span class="p">,</span> <span class="n">weekly_points</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">point_list</span> <span class="ow">in</span> <span class="n">weekly_points</span><span class="p">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="n">student_name</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">grade</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">point_list</span><span class="p">))</span>


<span class="n">weekly_points</span> <span class="o">=</span> <span class="n">read_weekly_points</span><span class="p">(</span><span class="s">"weekly_points.csv"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">get_grade</span><span class="p">(</span><span class="s">"Paula"</span><span class="p">,</span> <span class="n">weekly_points</span><span class="p">))</span>

</code></pre></div></div>

<sample-data>

3

</sample-data>

<p>If we determine a certain functionality in the program needs fixing, in a well designed program the change will affect only some select sections of code, and it will be easier to determine where the changes should be made. For example, if we wanted to change the grade boundaries, we’d only need to implement the change in the function for determining the grade, and it would work also in all the other functions utilizing this function. If the code for this single functionality was implemented in multiple places, there would be a definite risk that we would not remember to change all the instances when changing the functionality.</p>

<programming-exercise name="Course grading, part 4" tmcname="part06-14_course_grading_part_4">

Let's revisit the course grading project from the previous section. 

As we left if last time, the program read and processed files containing student information, completed exercises and exam results. We'll add a file containing information about the course. An example of the format of the file:

<sample-data>

<pre>

name: Introduction to Programming
study credits: 5
</pre>

</sample-data>

The program should then create two files. There should be a file called `results.txt` with the following contents:

<sample-data>

<pre>
Introduction to Programming, 5 credits
======================================
name                          exec_nbr  exec_pts. exm_pts.  tot_pts.  grade
pekka peloton                 21        5         9         14        0
jaana javanainen              27        6         11        17        1
liisa virtanen                35        8         14        22        3
</pre>

</sample-data>

The statistics section is identical to the results printed out in part 3 of the project. The only addition here is the header section. 

Additionally, there should be a file called `results.csv` with the following format:

<sample-data>

<pre>
12345678;pekka peloton;0
12345687;jaana javanainen;1
12345699;liisa virtanen;3
</pre>

</sample-data>

When the program is executed, it should look like this:

<sample-output>

Student information: **students1.csv**
Exercises completed: **exercises1.csv**
Exam points: **exam_points1.csv**
Course information: **course1.txt**
Results written to files results.txt and results.csv

</sample-output>

That is, the program only asks for the names of the input files. All output should be written to the files. The user will only see a message confirming this.

**NB:** this exercise doesn't ask you to write any functions, so you should __not__ place any code within an `if __name__ == "__main__"` block.

</programming-exercise>

<programming-exercise name="Word search" tmcname="part06-15_word_search">

The exercise template includes the file `words.txt`, which contains words in English.

Please write a function named `find_words(search_term: str)`. It should return a list containing all the words in the file which match the search term.

The search term may include lowercase letters and the following wildcard characters:

* A dot `.` means that any single character is acceptable in its place. For example, `ca.` would yield words like _cat_ and _car_, `p.ng` would yield words like _ping_ and _pong_, and `.a.e` would yield words like _sane_, _care_ and _late_.
* An asterisk `*` at the _end_ of the search term means that any word which _begins_ with the search term is acceptable. An asterisk at the _beginning_ of the search term means that any word which _ends_ with the search term is acceptable. For example, `ca*` would yield words like _california_, _cat_, _caring_ and _catapult_, while `*ane` would yield words like _crane_, _insane_ and _aeroplane_. There can only ever be a single asterisk in the search term.
* If there are no wildcard characters in the search term, only words which match the search term exactly are returned. 

You may assume both wildcards are never used in the same search term.

The words in the file are all written in lowercase. You may also assume the argument to the function will be in lowercase entirely.

If no matching words are found, the function should return an empty list.

Hint: the Pythons string methods `startswith()` and `endswith()` may be useful here. You can search for more information about them online.

An example of the function in action:

```python
print(find_words("*vokes"))
```

<sample-output>

['convokes', 'equivokes', 'evokes', 'invokes', 'provokes', 'reinvokes', 'revokes']

</sample-output>

</programming-exercise>

<programming-exercise name="Dictionary stored in a file" tmcname="part06-16_dictionary_file">

Please write a program which functions as a dictionary. The user can type in new entries or look for existing entries.

The program should work as follows:

<sample-output>

1 - Add word, 2 - Search, 3 - Quit
Function: **1**
The word in Finnish: **auto**
The word in English: **car**
Dictionary entry added
1 - Add word, 2 - Search, 3 - Quit
Function: **1**
The word in Finnish: **roska**
The word in English: **garbage**
Dictionary entry added
1 - Add word, 2 - Search, 3 - Quit
Function: **1**
The word in Finnish: **laukku**
The word in English: **bag**
Dictionary entry added
1 - Add word, 2 - Search, 3 - Quit
Function: **2**
Search term: **bag**
roska - garbage
laukku - bag
1 - Add word, 2 - Search, 3 - Quit
Function: **2**
Search term: **car**
auto - car
1 - Add word, 2 - Search, 3 - Quit
Function: **2**
Search term: **laukku**
laukku - bag
1 - Add word, 2 - Search, 3 - Quit
Function: **3**
Bye!

</sample-output>

The dictionary entries should be written to a file called `dictionary.txt`. The program should first read the contents of the file. New entries are written to the end of the file whenever they are added to the dictionary.

The format of the data stored in the dictionary is up to you.

**NB:** the automatic tests for this exercise may change the contents of the file. If you want to keep its contents, first make a copy of the file under a different name.

**NB2:** this exercise doesn't ask you to write any functions, so you should __not__ place any code within an `if __name__ == "__main__"` block.


</programming-exercise>

<!---
A quiz to review the contents of this section:

<quiz id="69694e01-4c47-5b9d-8a00-b0d96a477dc7"></quiz>
-->
