<text-box variant="learningObjectives" name="Learning objectives">

After this section

- You will be familiar with pygame events
- You will be able to write a program which reacts to key presses
- You will be able to write a program which reacts to mouse events

</text-box>

<p>Thus far our main loops have only executed predetermined animations and reacted to only <code class="language-plaintext highlighter-rouge">pygame.QUIT</code> type events, even though the loop gets a list of all events from the operating system. Let’s get to grips with some other types of events, then.</p>

<h2 id="handling-events">Handling events</h2>

<p>This program prints out information about all the events passed by the operating system to the pygame program, while it is running:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">pygame</span>

<span class="n">pygame</span><span class="p">.</span><span class="n">init</span><span class="p">()</span>
<span class="n">window</span> <span class="o">=</span> <span class="n">pygame</span><span class="p">.</span><span class="n">display</span><span class="p">.</span><span class="n">set_mode</span><span class="p">((</span><span class="mi">640</span><span class="p">,</span> <span class="mi">480</span><span class="p">))</span>

<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">pygame</span><span class="p">.</span><span class="n">event</span><span class="p">.</span><span class="n">get</span><span class="p">():</span>
        <span class="k">print</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">event</span><span class="p">.</span><span class="nb">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="p">.</span><span class="n">QUIT</span><span class="p">:</span>
            <span class="nb">exit</span><span class="p">()</span>
</code></pre></div></div>

<p>Let’s assume the program was left running for a while, and then the exit button was clicked. The program prints out the following info:</p>

<pre><code class="language-x">&lt;Event(4-MouseMotion {'pos': (495, 274), 'rel': (495, 274), 'buttons': (0, 0, 0), 'window': None})&gt;
&lt;Event(4-MouseMotion {'pos': (494, 274), 'rel': (-1, 0), 'buttons': (0, 0, 0), 'window': None})&gt;
&lt;Event(4-MouseMotion {'pos': (492, 274), 'rel': (-2, 0), 'buttons': (0, 0, 0), 'window': None})&gt;
&lt;Event(4-MouseMotion {'pos': (491, 274), 'rel': (-1, 0), 'buttons': (0, 0, 0), 'window': None})&gt;
&lt;Event(5-MouseButtonDown {'pos': (491, 274), 'button': 1, 'window': None})&gt;
&lt;Event(6-MouseButtonUp {'pos': (491, 274), 'button': 1, 'window': None})&gt;
&lt;Event(2-KeyDown {'unicode': 'a', 'key': 97, 'mod': 0, 'scancode': 38, 'window': None})&gt;
&lt;Event(3-KeyUp {'key': 97, 'mod': 0, 'scancode': 38, 'window': None})&gt;
&lt;Event(2-KeyDown {'unicode': 'b', 'key': 98, 'mod': 0, 'scancode': 56, 'window': None})&gt;
&lt;Event(3-KeyUp {'key': 98, 'mod': 0, 'scancode': 56, 'window': None})&gt;
&lt;Event(2-KeyDown {'unicode': 'c', 'key': 99, 'mod': 0, 'scancode': 54, 'window': None})&gt;
&lt;Event(3-KeyUp {'key': 99, 'mod': 0, 'scancode': 54, 'window': None})&gt;
&lt;Event(12-Quit {})&gt;
</code></pre>

<p>The first few events concern mouse usage, ten there are some events from the keyboard, and finally the last event closes the program. Each event has at least a type, but they may also offer some other identifying info, such as the location of the mouse cursor or the key that was pressed.</p>

<p>You can look for event descriptions in the <a href="https://www.pygame.org/docs/ref/event.html">pygame documentation</a>, but it can sometimes be easier to print out events with the code above, and look for the event that occurs when something you want to react to happens.</p>

<h2 id="keyboard-events">Keyboard events</h2>

<p>This program can process events where the user presses the arrow key either to the right or to the left on their keyboard. The program prints out which key was pressed.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">pygame</span>

<span class="n">pygame</span><span class="p">.</span><span class="n">init</span><span class="p">()</span>
<span class="n">window</span> <span class="o">=</span> <span class="n">pygame</span><span class="p">.</span><span class="n">display</span><span class="p">.</span><span class="n">set_mode</span><span class="p">((</span><span class="mi">640</span><span class="p">,</span> <span class="mi">480</span><span class="p">))</span>

<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">pygame</span><span class="p">.</span><span class="n">event</span><span class="p">.</span><span class="n">get</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">event</span><span class="p">.</span><span class="nb">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="p">.</span><span class="n">KEYDOWN</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">event</span><span class="p">.</span><span class="n">key</span> <span class="o">==</span> <span class="n">pygame</span><span class="p">.</span><span class="n">K_LEFT</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="s">"left"</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">event</span><span class="p">.</span><span class="n">key</span> <span class="o">==</span> <span class="n">pygame</span><span class="p">.</span><span class="n">K_RIGHT</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="s">"right"</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">event</span><span class="p">.</span><span class="nb">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="p">.</span><span class="n">QUIT</span><span class="p">:</span>
            <span class="nb">exit</span><span class="p">()</span>
</code></pre></div></div>

<p>The constants <code class="language-plaintext highlighter-rouge">pygame.K_LEFT</code> and <code class="language-plaintext highlighter-rouge">pygame.K_RIGHT</code> refer to the arrow keys to the left and right. The pgyame key constants for the different keys on a keyboard are listed in the <a href="https://www.pygame.org/docs/ref/key.html#key-constants-label">pygame documentation</a>.</p>

<p>For example, if the user presses the arrow key to the right twice, then the left one once, and then the right one once more, the program prints out</p>

<pre><code class="language-x">right
right
left
right
</code></pre>

<p>We now have all the tools needed to move a character, or <em>sprite</em>, on the screen to the right and left with the arrow keys. The following code will achieve this:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">pygame</span>

<span class="n">pygame</span><span class="p">.</span><span class="n">init</span><span class="p">()</span>
<span class="n">window</span> <span class="o">=</span> <span class="n">pygame</span><span class="p">.</span><span class="n">display</span><span class="p">.</span><span class="n">set_mode</span><span class="p">((</span><span class="mi">640</span><span class="p">,</span> <span class="mi">480</span><span class="p">))</span>

<span class="n">robot</span> <span class="o">=</span> <span class="n">pygame</span><span class="p">.</span><span class="n">image</span><span class="p">.</span><span class="n">load</span><span class="p">(</span><span class="s">"robot.png"</span><span class="p">)</span>
<span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">y</span> <span class="o">=</span> <span class="mi">480</span><span class="o">-</span><span class="n">robot</span><span class="p">.</span><span class="n">get_height</span><span class="p">()</span>

<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">pygame</span><span class="p">.</span><span class="n">event</span><span class="p">.</span><span class="n">get</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">event</span><span class="p">.</span><span class="nb">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="p">.</span><span class="n">KEYDOWN</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">event</span><span class="p">.</span><span class="n">key</span> <span class="o">==</span> <span class="n">pygame</span><span class="p">.</span><span class="n">K_LEFT</span><span class="p">:</span>
                <span class="n">x</span> <span class="o">-=</span> <span class="mi">10</span>
            <span class="k">if</span> <span class="n">event</span><span class="p">.</span><span class="n">key</span> <span class="o">==</span> <span class="n">pygame</span><span class="p">.</span><span class="n">K_RIGHT</span><span class="p">:</span>
                <span class="n">x</span> <span class="o">+=</span> <span class="mi">10</span>

        <span class="k">if</span> <span class="n">event</span><span class="p">.</span><span class="nb">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="p">.</span><span class="n">QUIT</span><span class="p">:</span>
            <span class="nb">exit</span><span class="p">()</span>

    <span class="n">window</span><span class="p">.</span><span class="n">fill</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
    <span class="n">window</span><span class="p">.</span><span class="n">blit</span><span class="p">(</span><span class="n">robot</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
    <span class="n">pygame</span><span class="p">.</span><span class="n">display</span><span class="p">.</span><span class="n">flip</span><span class="p">()</span>
</code></pre></div></div>

<p>Depending on how you use your arrow keys, running the program could look like this:</p>

<p><img src="pygame_move_robot.gif" /></p>

<p>In the code above we have the variables <code class="language-plaintext highlighter-rouge">x</code> and <code class="language-plaintext highlighter-rouge">y</code> which contain the coordinate location for the sprite. The variable <code class="language-plaintext highlighter-rouge">y</code> is set so that the sprite appears at the bottom of the window. The <code class="language-plaintext highlighter-rouge">y</code> value does not change throughout the execution of the program. The <code class="language-plaintext highlighter-rouge">x</code> value, however, increases by 10 whenever the user presses the arrow key to the right, and decreases by 10 whenever the left arrow key is pressed.</p>

<p>The program works otherwise quite well, but the key needs to be pressed again each time we want to move again. It would be better if the movement was continuous as the key was held down. The following program offfers this functionality:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">pygame</span>

<span class="n">pygame</span><span class="p">.</span><span class="n">init</span><span class="p">()</span>
<span class="n">window</span> <span class="o">=</span> <span class="n">pygame</span><span class="p">.</span><span class="n">display</span><span class="p">.</span><span class="n">set_mode</span><span class="p">((</span><span class="mi">640</span><span class="p">,</span> <span class="mi">480</span><span class="p">))</span>

<span class="n">robot</span> <span class="o">=</span> <span class="n">pygame</span><span class="p">.</span><span class="n">image</span><span class="p">.</span><span class="n">load</span><span class="p">(</span><span class="s">"robot.png"</span><span class="p">)</span>
<span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">y</span> <span class="o">=</span> <span class="mi">480</span><span class="o">-</span><span class="n">robot</span><span class="p">.</span><span class="n">get_height</span><span class="p">()</span>

<span class="n">to_right</span> <span class="o">=</span> <span class="bp">False</span>
<span class="n">to_left</span> <span class="o">=</span> <span class="bp">False</span>

<span class="n">clock</span> <span class="o">=</span> <span class="n">pygame</span><span class="p">.</span><span class="n">time</span><span class="p">.</span><span class="n">Clock</span><span class="p">()</span>

<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">pygame</span><span class="p">.</span><span class="n">event</span><span class="p">.</span><span class="n">get</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">event</span><span class="p">.</span><span class="nb">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="p">.</span><span class="n">KEYDOWN</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">event</span><span class="p">.</span><span class="n">key</span> <span class="o">==</span> <span class="n">pygame</span><span class="p">.</span><span class="n">K_LEFT</span><span class="p">:</span>
                <span class="n">to_left</span> <span class="o">=</span> <span class="bp">True</span>
            <span class="k">if</span> <span class="n">event</span><span class="p">.</span><span class="n">key</span> <span class="o">==</span> <span class="n">pygame</span><span class="p">.</span><span class="n">K_RIGHT</span><span class="p">:</span>
                <span class="n">to_right</span> <span class="o">=</span> <span class="bp">True</span>

        <span class="k">if</span> <span class="n">event</span><span class="p">.</span><span class="nb">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="p">.</span><span class="n">KEYUP</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">event</span><span class="p">.</span><span class="n">key</span> <span class="o">==</span> <span class="n">pygame</span><span class="p">.</span><span class="n">K_LEFT</span><span class="p">:</span>
                <span class="n">to_left</span> <span class="o">=</span> <span class="bp">False</span>
            <span class="k">if</span> <span class="n">event</span><span class="p">.</span><span class="n">key</span> <span class="o">==</span> <span class="n">pygame</span><span class="p">.</span><span class="n">K_RIGHT</span><span class="p">:</span>
                <span class="n">to_right</span> <span class="o">=</span> <span class="bp">False</span>

        <span class="k">if</span> <span class="n">event</span><span class="p">.</span><span class="nb">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="p">.</span><span class="n">QUIT</span><span class="p">:</span>
            <span class="nb">exit</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">to_right</span><span class="p">:</span>
        <span class="n">x</span> <span class="o">+=</span> <span class="mi">2</span>
    <span class="k">if</span> <span class="n">to_left</span><span class="p">:</span>
        <span class="n">x</span> <span class="o">-=</span> <span class="mi">2</span>

    <span class="n">window</span><span class="p">.</span><span class="n">fill</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
    <span class="n">window</span><span class="p">.</span><span class="n">blit</span><span class="p">(</span><span class="n">robot</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
    <span class="n">pygame</span><span class="p">.</span><span class="n">display</span><span class="p">.</span><span class="n">flip</span><span class="p">()</span>

    <span class="n">clock</span><span class="p">.</span><span class="n">tick</span><span class="p">(</span><span class="mi">60</span><span class="p">)</span>
</code></pre></div></div>

<p>The code now contains the variables <code class="language-plaintext highlighter-rouge">to_right</code> and <code class="language-plaintext highlighter-rouge">to_left</code>. These contain knowledge of whether the sprite should be moving to the right or to the left at any given moment. When the user presses down an arrow key, the value stored in the relevant variable become <code class="language-plaintext highlighter-rouge">True</code>. When the key is released, the value changes to <code class="language-plaintext highlighter-rouge">False</code>.</p>

<p>The clock is used to time the movements of the sprite, so that they potentially happen 60 times each second. If an arrow key is pressed, the sprite moves two pixels to the right or to the left. This means the sprite moves 120 pixels per second if the key is kept pressed down.</p>

<programming-exercise name="Four directions" tmcname="part13-11_four_directions">

Please write a program where the player can move a robot in four directions with the arrow keys on the keyboard. The end result should look like this:

<img src="pygame_four_directions.gif" />

</programming-exercise>

<programming-exercise name="Four walls" tmcname="part13-12_four_walls">

Please improve the program in the previous exercise so that the robot cannot pass outside the window in any of the four directions. The end result should look like this:

<img src="pygame_four_walls.gif" />

</programming-exercise>

<programming-exercise name="Two players" tmcname="part13-13_two_players">

Please write a program where two players each direct their own robot. One of the players should use the arrow keys while the other could use, for example, the w-s-a-d keys. The end result should look like this:

<img src="pygame_two_players.gif" />

</programming-exercise>

<h2 id="mouse-events">Mouse events</h2>

<p>The following code reacts to events where a mouse button is pressed down while the cursor is within the window area:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">pygame</span>

<span class="n">pygame</span><span class="p">.</span><span class="n">init</span><span class="p">()</span>
<span class="n">window</span> <span class="o">=</span> <span class="n">pygame</span><span class="p">.</span><span class="n">display</span><span class="p">.</span><span class="n">set_mode</span><span class="p">((</span><span class="mi">640</span><span class="p">,</span> <span class="mi">480</span><span class="p">))</span>

<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">pygame</span><span class="p">.</span><span class="n">event</span><span class="p">.</span><span class="n">get</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">event</span><span class="p">.</span><span class="nb">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="p">.</span><span class="n">MOUSEBUTTONDOWN</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="s">"you pressed the button number"</span><span class="p">,</span> <span class="n">event</span><span class="p">.</span><span class="n">button</span><span class="p">,</span> <span class="s">"at location"</span><span class="p">,</span> <span class="n">event</span><span class="p">.</span><span class="n">pos</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">event</span><span class="p">.</span><span class="nb">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="p">.</span><span class="n">QUIT</span><span class="p">:</span>
            <span class="nb">exit</span><span class="p">()</span>
</code></pre></div></div>

<p>The execution of this program should look more or less like this:</p>

<pre><code class="language-x">you pressed the button number 1 at location (82, 135)
you pressed the button number 1 at location (369, 135)
you pressed the button number 1 at location (269, 297)
you pressed the button number 3 at location (515, 324)
</code></pre>

<p>Button number 1 refers to the left mouse button and button number 3 refers to the right mouse button.</p>

<p>This next program combines mouse event handling and drawing an image on the screen. When the user presses a mouse button while the mouse cursor is within the bounds of the window, an image of a robot is drawn at that location.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">pygame</span>

<span class="n">pygame</span><span class="p">.</span><span class="n">init</span><span class="p">()</span>
<span class="n">window</span> <span class="o">=</span> <span class="n">pygame</span><span class="p">.</span><span class="n">display</span><span class="p">.</span><span class="n">set_mode</span><span class="p">((</span><span class="mi">640</span><span class="p">,</span> <span class="mi">480</span><span class="p">))</span>

<span class="n">robot</span> <span class="o">=</span> <span class="n">pygame</span><span class="p">.</span><span class="n">image</span><span class="p">.</span><span class="n">load</span><span class="p">(</span><span class="s">"robot.png"</span><span class="p">)</span>

<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">pygame</span><span class="p">.</span><span class="n">event</span><span class="p">.</span><span class="n">get</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">event</span><span class="p">.</span><span class="nb">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="p">.</span><span class="n">MOUSEBUTTONDOWN</span><span class="p">:</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">event</span><span class="p">.</span><span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="n">robot</span><span class="p">.</span><span class="n">get_width</span><span class="p">()</span><span class="o">/</span><span class="mi">2</span>
            <span class="n">y</span> <span class="o">=</span> <span class="n">event</span><span class="p">.</span><span class="n">pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">robot</span><span class="p">.</span><span class="n">get_height</span><span class="p">()</span><span class="o">/</span><span class="mi">2</span>

            <span class="n">window</span><span class="p">.</span><span class="n">fill</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
            <span class="n">window</span><span class="p">.</span><span class="n">blit</span><span class="p">(</span><span class="n">robot</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
            <span class="n">pygame</span><span class="p">.</span><span class="n">display</span><span class="p">.</span><span class="n">flip</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">event</span><span class="p">.</span><span class="nb">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="p">.</span><span class="n">QUIT</span><span class="p">:</span>
            <span class="nb">exit</span><span class="p">()</span>
</code></pre></div></div>

<p>The execution of the program could look like this:</p>

<p><img src="pygame_cursor.gif" /></p>

<p>The following program contains an animation where the robot sprite follows the mouse cursor.The location of the sprite is stored in the variables <code class="language-plaintext highlighter-rouge">robot_x</code> and <code class="language-plaintext highlighter-rouge">robot_y</code>. When the mouse moves, its location is stored in the variables <code class="language-plaintext highlighter-rouge">target_x</code> ja <code class="language-plaintext highlighter-rouge">target_y</code>. If the robot is not at this location, it moves to the approproate direction.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">pygame</span>

<span class="n">pygame</span><span class="p">.</span><span class="n">init</span><span class="p">()</span>
<span class="n">window</span> <span class="o">=</span> <span class="n">pygame</span><span class="p">.</span><span class="n">display</span><span class="p">.</span><span class="n">set_mode</span><span class="p">((</span><span class="mi">640</span><span class="p">,</span> <span class="mi">480</span><span class="p">))</span>

<span class="n">robot</span> <span class="o">=</span> <span class="n">pygame</span><span class="p">.</span><span class="n">image</span><span class="p">.</span><span class="n">load</span><span class="p">(</span><span class="s">"robot.png"</span><span class="p">)</span>

<span class="n">robot_x</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">robot_y</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">target_x</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">target_y</span> <span class="o">=</span> <span class="mi">0</span>

<span class="n">clock</span> <span class="o">=</span> <span class="n">pygame</span><span class="p">.</span><span class="n">time</span><span class="p">.</span><span class="n">Clock</span><span class="p">()</span>

<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">pygame</span><span class="p">.</span><span class="n">event</span><span class="p">.</span><span class="n">get</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">event</span><span class="p">.</span><span class="nb">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="p">.</span><span class="n">MOUSEMOTION</span><span class="p">:</span>
            <span class="n">target_x</span> <span class="o">=</span> <span class="n">event</span><span class="p">.</span><span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="n">robot</span><span class="p">.</span><span class="n">get_width</span><span class="p">()</span><span class="o">/</span><span class="mi">2</span>
            <span class="n">target_y</span> <span class="o">=</span> <span class="n">event</span><span class="p">.</span><span class="n">pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">robot</span><span class="p">.</span><span class="n">get_height</span><span class="p">()</span><span class="o">/</span><span class="mi">2</span>

        <span class="k">if</span> <span class="n">event</span><span class="p">.</span><span class="nb">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="p">.</span><span class="n">QUIT</span><span class="p">:</span>
            <span class="nb">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">robot_x</span> <span class="o">&gt;</span> <span class="n">target_x</span><span class="p">:</span>
        <span class="n">robot_x</span> <span class="o">-=</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="n">robot_x</span> <span class="o">&lt;</span> <span class="n">target_x</span><span class="p">:</span>
        <span class="n">robot_x</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="n">robot_y</span> <span class="o">&gt;</span> <span class="n">target_y</span><span class="p">:</span>
        <span class="n">robot_y</span> <span class="o">-=</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="n">robot_y</span> <span class="o">&lt;</span> <span class="n">target_y</span><span class="p">:</span>
        <span class="n">robot_y</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="n">window</span><span class="p">.</span><span class="n">fill</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
    <span class="n">window</span><span class="p">.</span><span class="n">blit</span><span class="p">(</span><span class="n">robot</span><span class="p">,</span> <span class="p">(</span><span class="n">robot_x</span><span class="p">,</span> <span class="n">robot_y</span><span class="p">))</span>
    <span class="n">pygame</span><span class="p">.</span><span class="n">display</span><span class="p">.</span><span class="n">flip</span><span class="p">()</span>

    <span class="n">clock</span><span class="p">.</span><span class="n">tick</span><span class="p">(</span><span class="mi">60</span><span class="p">)</span>
</code></pre></div></div>

<p>The program’s execution should look more or less like this:</p>

<p><img src="pygame_cursor2.gif" /></p>

<programming-exercise name="Robot and mouse" tmcname="part13-14_robot_and_mouse">

Please write a program where the robot follows the mouse cursor so that the centre of the robot is always directly at the mouse cursor. The end result should look like this:

<img src="pygame_robot_cursor.gif" />

</programming-exercise>

<programming-exercise name="The location of the robot" tmcname="part13-15_robot_location">

Please write a program where the robot appears at a random location within the window. When the player clicks on the robot with the mouse, the robot moves to a new location. The end result should look like this:

<img src="pygame_robot_location.gif" />

</programming-exercise>
