<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Creating your own modules | programming-25</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Creating your own modules" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="https://gapps123.github.io/programming-25/programming-25/data/part-7/5-creating-modules.html" />
<meta property="og:url" content="https://gapps123.github.io/programming-25/programming-25/data/part-7/5-creating-modules.html" />
<meta property="og:site_name" content="programming-25" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Creating your own modules" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","headline":"Creating your own modules","url":"https://gapps123.github.io/programming-25/programming-25/data/part-7/5-creating-modules.html"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/programming-25/assets/css/style.css?v=8fdccb165fdb68b261d29b53eab9f8c397ee01cf">
    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/programming-25/favicon.ico" -->

<!-- end custom head snippets -->

  </head>
  <body>
    <div class="container-lg px-3 my-5 markdown-body">
      
      <h1><a href="https://gapps123.github.io/programming-25/programming-25/">programming-25</a></h1>
      

      <text-box variant="learningObjectives" name="Learning objectives">

After this section

- You will be able to write your own modules
- You will know what the Python variable `__name__` and the value `__main__` signify

</text-box>

<p>Writing your own Python modules is easy. Any file containing valid Python code can be imported as a module. Let’s assume we have a file named <code class="language-plaintext highlighter-rouge">words.py</code> with the following contents:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">first_word</span><span class="p">(</span><span class="n">my_string</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
    <span class="n">parts</span> <span class="o">=</span> <span class="n">my_string</span><span class="p">.</span><span class="n">split</span><span class="p">(</span><span class="s">" "</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">last_word</span><span class="p">(</span><span class="n">my_string</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
    <span class="n">parts</span> <span class="o">=</span> <span class="n">my_string</span><span class="p">.</span><span class="n">split</span><span class="p">(</span><span class="s">" "</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">parts</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">number_of_words</span><span class="p">(</span><span class="n">my_string</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
    <span class="n">parts</span> <span class="o">=</span> <span class="n">my_string</span><span class="p">.</span><span class="n">split</span><span class="p">(</span><span class="s">" "</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span>
</code></pre></div></div>

<p>The functions defined in the file can be accessed by importing the file:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">words</span>

<span class="n">my_string</span> <span class="o">=</span> <span class="s">"Sheila sells seashells by the seashore"</span>

<span class="k">print</span><span class="p">(</span><span class="n">words</span><span class="p">.</span><span class="n">first_word</span><span class="p">(</span><span class="n">my_string</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">words</span><span class="p">.</span><span class="n">last_word</span><span class="p">(</span><span class="n">my_string</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">words</span><span class="p">.</span><span class="n">number_of_words</span><span class="p">(</span><span class="n">my_string</span><span class="p">))</span>
</code></pre></div></div>

<sample-output>

Sheila
seashore
6

</sample-output>

<p>NB: the file containing the Python module must be located either in the same directory with the program importing it, or in one of the default Python directories, or else the Python interpreter will not find it when the <code class="language-plaintext highlighter-rouge">import</code> statement is executed.</p>

<p>We can use our own modules just as we have learnt to use the modules from the Python standard library:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">words</span> <span class="kn">import</span> <span class="n">first_word</span><span class="p">,</span> <span class="n">last_word</span>

<span class="n">sentence</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s">"Please type in a sentence: "</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="s">"The first word was: "</span> <span class="o">+</span> <span class="n">first_word</span><span class="p">(</span><span class="n">sentence</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="s">"The last word was: "</span> <span class="o">+</span> <span class="n">last_word</span><span class="p">(</span><span class="n">sentence</span><span class="p">))</span>
</code></pre></div></div>

<sample-output>

Please type in a sentence: **Python is a swell programming language**
The first word was: Python
The last word was: language

</sample-output>

<h2 id="putting-type-hints-to-use">Putting type hints to use</h2>

<p>When using modules, type hinting becomes especially useful. If you are using an editor which has built-in support for type hinting, using different modules becomes much easier.</p>

<p>For example, Visual Studio Code will display the type hints when you are writing code:</p>

<p><img src="7_vihje.png" /></p>

<h2 id="main-function-code-in-a-module">Main function code in a module</h2>

<p>If a module contains any code which is not contained within a function definition (that is, if the module contains code in the main function of the module), this code is executed automatically whenever the module is imported.</p>

<p>Let’s assume our <code class="language-plaintext highlighter-rouge">words.py</code> file also contained some test cases:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">first_word</span><span class="p">(</span><span class="n">my_string</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
    <span class="n">parts</span> <span class="o">=</span> <span class="n">my_string</span><span class="p">.</span><span class="n">split</span><span class="p">(</span><span class="s">" "</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">last_word</span><span class="p">(</span><span class="n">my_string</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
    <span class="n">parts</span> <span class="o">=</span> <span class="n">my_string</span><span class="p">.</span><span class="n">split</span><span class="p">(</span><span class="s">" "</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">parts</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">number_of_words</span><span class="p">(</span><span class="n">my_string</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
    <span class="n">parts</span> <span class="o">=</span> <span class="n">my_string</span><span class="p">.</span><span class="n">split</span><span class="p">(</span><span class="s">" "</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">first_word</span><span class="p">(</span><span class="s">"This is a test"</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">last_word</span><span class="p">(</span><span class="s">"Here we are still testing"</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">number_of_words</span><span class="p">(</span><span class="s">"One two three four five"</span><span class="p">))</span>
</code></pre></div></div>

<p>Now, if we import the module with an <code class="language-plaintext highlighter-rouge">import</code> statement, all the code in the module which is outside the defined functions is automatically executed:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">words</span>

<span class="n">my_string</span> <span class="o">=</span> <span class="s">"Sheila sells seashells by the seashore"</span>

<span class="k">print</span><span class="p">(</span><span class="n">words</span><span class="p">.</span><span class="n">first_word</span><span class="p">(</span><span class="n">my_string</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">words</span><span class="p">.</span><span class="n">last_word</span><span class="p">(</span><span class="n">my_string</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">words</span><span class="p">.</span><span class="n">number_of_words</span><span class="p">(</span><span class="n">my_string</span><span class="p">))</span>
</code></pre></div></div>

<sample-output>

This
testing
5
Sheila
seashore
6

</sample-output>

<p>As you can see above, this is not a good outcome, because the program we are trying to write is messed with by the test cases from the module itself.</p>

<p>Luckily, there is a solution, and it is one which you have used many times before in the exercises on this course. We just need to test if the program is being executed on its own, or if the code has been imported with an <code class="language-plaintext highlighter-rouge">import</code> statement. Python has a built-in variable <code class="language-plaintext highlighter-rouge">__name__</code>, which contains the name of the program being executed. If the program is being executed on its own, the value of the variable is <code class="language-plaintext highlighter-rouge">__main__</code>. If the program has been imported, the value of the variable is the name of the imported module (in this case, <code class="language-plaintext highlighter-rouge">words</code>).</p>

<p>Knowing this, we can add a conditional statement, which lets us only execute the text cases if the program is executed on its own. As you can see below, the structure looks familiar:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">first_word</span><span class="p">(</span><span class="n">my_string</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="n">parts</span> <span class="o">=</span> <span class="n">my_string</span><span class="p">.</span><span class="n">split</span><span class="p">(</span><span class="s">" "</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">last_word</span><span class="p">(</span><span class="n">my_string</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="n">parts</span> <span class="o">=</span> <span class="n">my_string</span><span class="p">.</span><span class="n">split</span><span class="p">(</span><span class="s">" "</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">parts</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">number_of_words</span><span class="p">(</span><span class="n">my_string</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="n">parts</span> <span class="o">=</span> <span class="n">my_string</span><span class="p">.</span><span class="n">split</span><span class="p">(</span><span class="s">" "</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">"__main__"</span><span class="p">:</span>
    <span class="c1"># testing functionality
</span>    <span class="k">print</span><span class="p">(</span><span class="n">first_word</span><span class="p">(</span><span class="s">"This is a test"</span><span class="p">))</span>
    <span class="k">print</span><span class="p">(</span><span class="n">last_word</span><span class="p">(</span><span class="s">"Here we are still testing"</span><span class="p">))</span>
    <span class="k">print</span><span class="p">(</span><span class="n">number_of_words</span><span class="p">(</span><span class="s">"One two three four five"</span><span class="p">))</span>
</code></pre></div></div>

<p>If you execute the module on its own, the test cases are printed out:</p>

<sample-output>

This
testing
5

</sample-output>

<p>When the module is imported into another program, the test cases are not executed:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">words</span>

<span class="n">my_string</span> <span class="o">=</span> <span class="s">"Sheila sells seashells by the seashore"</span>

<span class="k">print</span><span class="p">(</span><span class="n">words</span><span class="p">.</span><span class="n">first_word</span><span class="p">(</span><span class="n">my_string</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">words</span><span class="p">.</span><span class="n">last_word</span><span class="p">(</span><span class="n">my_string</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">words</span><span class="p">.</span><span class="n">number_of_words</span><span class="p">(</span><span class="n">my_string</span><span class="p">))</span>
</code></pre></div></div>

<sample-output>

Sheila
seashore
6

</sample-output>

<p>In the exercises on this course, whenever you were asked to write functions, you were usually also expected to wrap test cases in an <code class="language-plaintext highlighter-rouge">if __name__ == "__main__"</code> block exactly like the one above. Now you know why.</p>

<programming-exercise name="String helper" tmcname="part07-17_string_helper">

Please write a module named `string_helper`, which contains the following functions:

The function `change_case(orig_string: str)` creates and returns a new version of the parameter string. The lowercase letters in the original should be uppercase, and uppercase letters should be lowercase.

The function `split_in_half(orig_string: str)` splits the parameter string in half, and returns the results in a tuple. If the original has an odd number of characters, the first half should be shorter.

The function `remove_special_characters(orig_string: str)` returns a new version of the parameter string, with all special characters removed. Only lowercase and uppercase letters, numbers and spaces are allowed in the returned string.

Some examples of how the module would be used:

```python
import string_helper

my_string = "Well hello there!"

print(string_helper.change_case(my_string))

p1, p2 = string_helper.split_in_half(my_string)

print(p1)
print(p2)

m2 = string_helper.remove_special_characters("This is a test, lets see how it goes!!!11!")
print(m2)
```

<sample-output>

wELL HELLO THERE!
Well hel
lo there!
This is a test lets see how it goes11

</sample-output>

</programming-exercise>

<!---
<quiz id="2203412c-628c-54a3-bd77-edebd5ce4f67"></quiz>
-->

<p>Please respond to a quick questionnaire on this week’s materials.</p>

<quiz id="c4d025fa-aeae-5eaa-bce2-f0246c9e64b7"></quiz>


      
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js" integrity="sha256-lZaRhKri35AyJSypXXs4o6OPFTbTmUoltBbDCbdzegg=" crossorigin="anonymous"></script>
    <script>anchors.add();</script>
  </body>
</html>
